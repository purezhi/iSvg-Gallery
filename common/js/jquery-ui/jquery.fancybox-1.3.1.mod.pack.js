/*FancyBox - jQuery Plugin 1.3.1 pack*/
(function(A){var K,T,R,L,d,w,J,O,z,C,E=0,I={},h=[],e=0,G={},y=[],f=null,m=new Image(),g=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,k=/[^\.]\.(swf)\s*$/i,q,M=1,a,c,P=false,D=20,t=A.extend(A("<div/>")[0],{prop:0}),j=0,S=!A.support.opacity&&!window.XMLHttpRequest,i=function(){T.hide();m.onerror=m.onload=null;if(f){f.abort()}K.empty()},p=function(){A.fancybox('<p id="fancybox_error">您请求的内容暂时无法加载。<br />请稍后尝试。</p>',{scrolling:"no",padding:20,transitionIn:"none",transitionOut:"none"})},F=function(){return[A(window).width(),A(window).height(),A(document).scrollLeft(),A(document).scrollTop()]},b=function(){var W=F(),ad={},ab=G.margin,X=G.autoScale,ac=(D+ab)*2,aa=(D+ab)*2,Y=(G.padding*2),Z;if(G.width.toString().indexOf("%")>-1){ad.width=((W[0]*parseFloat(G.width))/100)-(D*2);X=false}else{ad.width=G.width+Y}if(G.height.toString().indexOf("%")>-1){ad.height=((W[1]*parseFloat(G.height))/100)-(D*2);X=false}else{ad.height=G.height+Y}if(X&&(ad.width>(W[0]-ac)||ad.height>(W[1]-aa))){if(I.type=="image"||I.type=="swf"){ac+=Y;aa+=Y;Z=Math.min(Math.min(W[0]-ac,G.width)/G.width,Math.min(W[1]-aa,G.height)/G.height);ad.width=Math.round(Z*(ad.width-Y))+Y;ad.height=Math.round(Z*(ad.height-Y))+Y}else{ad.width=Math.min(ad.width,(W[0]-ac));ad.height=Math.min(ad.height,(W[1]-aa))}}ad.top=W[3]+((W[1]-(ad.height+(D*2)))*0.5);ad.left=W[2]+((W[0]-(ad.width+(D*2)))*0.5);if(G.autoScale===false){ad.top=Math.max(W[3]+ab,ad.top);ad.left=Math.max(W[2]+ab,ad.left)}return ad},N=function(W){if(W&&W.length){switch(G.titlePosition){case"inside":return W;case"over":return'<span id="fancybox-title-over">'+W+"</span>";default:return'<span id="fancybox-title-wrap"><span id="fancybox-title-left"></span><span id="fancybox-title-main">'+W+'</span><span id="fancybox-title-right"></span></span>'}}return false},s=function(){var Y=G.title,X=c.width-(G.padding*2),W="fancybox-title-"+G.titlePosition;A("#fancybox-title").remove();j=0;if(G.titleShow===false){return}Y=A.isFunction(G.titleFormat)?G.titleFormat(Y,y,e,G):N(Y);if(!Y||Y===""){return}A('<div id="fancybox-title" class="'+W+'" />').css({width:X,paddingLeft:G.padding,paddingRight:G.padding}).html(Y).appendTo("body");switch(G.titlePosition){case"inside":j=A("#fancybox-title").outerHeight(true)-G.padding;c.height+=j;break;case"over":A("#fancybox-title").css("bottom",G.padding);break;default:A("#fancybox-title").css("bottom",A("#fancybox-title").outerHeight(true)*-1);break}A("#fancybox-title").appendTo(d).hide()},o=function(){A(document).unbind("keydown.fb").bind("keydown.fb",function(W){if(W.keyCode==27&&G.enableEscapeButton){W.preventDefault();A.fancybox.close()}else{if(W.keyCode==37){W.preventDefault();A.fancybox.prev()}else{if(W.keyCode==39){W.preventDefault();A.fancybox.next()}}}});if(A.fn.mousewheel){L.unbind("mousewheel.fb");if(y.length>1){L.bind("mousewheel.fb",function(W,X){W.preventDefault();if(P||X===0){return}if(X>0){A.fancybox.prev()}else{A.fancybox.next()}})}}if(!G.showNavArrows){return}if(G.type=="image"){C.show()}if((G.cyclic&&y.length>1)||e!==0){O.show()}if((G.cyclic&&y.length>1)||e!=(y.length-1)){z.show()}},U=function(){var W,X;if((y.length-1)>e){W=y[e+1].href;if(typeof W!=="undefined"&&W.match(g)){X=new Image();X.src=W}}if(e>0){W=y[e-1].href;if(typeof W!=="undefined"&&W.match(g)){X=new Image();X.src=W}}},v=function(){w.css("overflow",(G.scrolling=="auto"?(G.type=="image"||G.type=="iframe"||G.type=="swf"?"hidden":"auto"):(G.scrolling=="yes"?"auto":"visible")));if(!A.support.opacity){w.get(0).style.removeAttribute("filter");L.get(0).style.removeAttribute("filter")}A("#fancybox-title").show();if(G.hideOnContentClick){w.one("click",A.fancybox.close)}if(G.hideOnOverlayClick){R.one("click",A.fancybox.close)}if(G.showCloseButton){J.show()}o();A(window).bind("resize.fb",A.fancybox.center);if(G.centerOnScroll){A(window).bind("scroll.fb",A.fancybox.center)}else{A(window).unbind("scroll.fb")}if(A.isFunction(G.onComplete)){G.onComplete(y,e,G)}P=false;U()},H=function(aa){var X=Math.round(a.width+(c.width-a.width)*aa),W=Math.round(a.height+(c.height-a.height)*aa),Z=Math.round(a.top+(c.top-a.top)*aa),Y=Math.round(a.left+(c.left-a.left)*aa);L.css({width:X+"px",height:W+"px",top:Z+"px",left:Y+"px"});X=Math.max(X-G.padding*2,0);W=Math.max(W-(G.padding*2+(j*aa)),0);w.css({width:X+"px",height:W+"px"});if(typeof c.opacity!=="undefined"){L.css("opacity",(aa<0.5?0.5:aa))}},x=function(W){var X=W.offset();X.top+=parseFloat(W.css("paddingTop"))||0;X.left+=parseFloat(W.css("paddingLeft"))||0;X.top+=parseFloat(W.css("border-top-width"))||0;X.left+=parseFloat(W.css("border-left-width"))||0;X.width=W.width();X.height=W.height();return X},V=function(){var Z=I.orig?A(I.orig):false,Y={},X,W;if(Z&&Z.length){X=x(Z);Y={width:(X.width+(G.padding*2)),height:(X.height+(G.padding*2)),top:(X.top-G.padding-D),left:(X.left-G.padding-D)}}else{W=F();Y={width:1,height:1,top:W[3]+W[1]*0.5,left:W[2]+W[0]*0.5}}return Y},u=function(){T.hide();if(L.is(":visible")&&A.isFunction(G.onCleanup)){if(G.onCleanup(y,e,G)===false){A.event.trigger("fancybox-cancel");P=false;return}}y=h;e=E;G=I;w.get(0).scrollTop=0;w.get(0).scrollLeft=0;if(G.overlayShow){if(S){A("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"})}R.css({"background-color":G.overlayColor,opacity:G.overlayOpacity}).unbind().show()}c=b();s();if(L.is(":visible")){A(J.add(O).add(z).add(C)).hide();var X=L.position(),W;a={top:X.top,left:X.left,width:L.width(),height:L.height()};W=(a.width==c.width&&a.height==c.height);w.fadeOut(G.changeFade,function(){var Y=function(){w.html(K.contents()).fadeIn(G.changeFade,v)};A.event.trigger("fancybox-change");w.empty().css("overflow","hidden");if(W){w.css({top:G.padding,left:G.padding,width:Math.max(c.width-(G.padding*2),1),height:Math.max(c.height-(G.padding*2)-j,1)});Y()}else{w.css({top:G.padding,left:G.padding,width:Math.max(a.width-(G.padding*2),1),height:Math.max(a.height-(G.padding*2),1)});t.prop=0;A(t).animate({prop:1},{duration:G.changeSpeed,easing:G.easingChange,step:H,complete:Y})}});return}L.css("opacity",1);if(G.transitionIn=="elastic"){a=V();w.css({top:G.padding,left:G.padding,width:Math.max(a.width-(G.padding*2),1),height:Math.max(a.height-(G.padding*2),1)}).html(K.contents());L.css(a).show();if(G.opacity){c.opacity=0}t.prop=0;A(t).animate({prop:1},{duration:G.speedIn,easing:G.easingIn,step:H,complete:v})}else{w.css({top:G.padding,left:G.padding,width:Math.max(c.width-(G.padding*2),1),height:Math.max(c.height-(G.padding*2)-j,1)}).html(K.contents());L.css(c).fadeIn(G.transitionIn=="none"?0:G.speedIn,v)}},r=function(){K.width(I.width);K.height(I.height);if(I.width=="auto"){I.width=K.width()}if(I.height=="auto"){I.height=K.height()}u()},Q=function(){P=true;I.width=m.width;I.height=m.height;A("<img />").attr({id:"fancybox-img",src:m.src,alt:I.title}).appendTo(K);u()},l=function(){i();var ab=h[E],Y,Z,ad,ac,X,W,aa;I=A.extend({},A.fn.fancybox.defaults,(typeof A(ab).data("fancybox")=="undefined"?I:A(ab).data("fancybox")));ad=ab.title||A(ab).title||I.title||"";if(ab.nodeName&&!I.orig){I.orig=A(ab).children("img:first").length?A(ab).children("img:first"):A(ab)}if(ad===""&&I.orig){ad=I.orig.attr("alt")}if(ab.nodeName&&(/^(?:javascript|#)/i).test(ab.href)){Y=I.href||null}else{Y=I.href||ab.href||null}if(I.type){Z=I.type;if(!Y){Y=I.content}}else{if(I.content){Z="html"}else{if(Y){if(Y.match(g)){Z="image"}else{if(Y.match(k)){Z="swf"}else{if(A(ab).hasClass("iframe")){Z="iframe"}else{if(Y.match(/#/)){ab=Y.substr(Y.indexOf("#"));Z=A(ab).length>0?"inline":"ajax"}else{Z="ajax"}}}}}else{Z="inline"}}}I.type=Z;I.href=Y;I.title=ad;if(I.autoDimensions&&I.type!=="iframe"&&I.type!=="swf"){I.width="auto";I.height="auto"}if(I.modal){I.overlayShow=true;I.hideOnOverlayClick=false;I.hideOnContentClick=false;I.enableEscapeButton=false;I.showCloseButton=false}if(A.isFunction(I.onStart)){if(I.onStart(h,E,I)===false){P=false;return}}K.css("padding",(D+I.padding+I.margin));A(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){A(this).replaceWith(w.children())});switch(Z){case"html":K.html(I.content);r();break;case"inline":A('<div class="fancybox-inline-tmp" />').hide().insertBefore(A(ab)).bind("fancybox-cleanup",function(){A(this).replaceWith(w.children())}).bind("fancybox-cancel",function(){A(this).replaceWith(K.children())});A(ab).appendTo(K);r();break;case"image":P=false;A.fancybox.showActivity();m=new Image();m.onerror=function(){p()};m.onload=function(){m.onerror=null;m.onload=null;Q()};m.src=Y;break;case"swf":ac='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+I.width+'" height="'+I.height+'"><param name="movie" value="'+Y+'"></param>';X="";A.each(I.swf,function(ae,af){ac+='<param name="'+ae+'" value="'+af+'"></param>';X+=" "+ae+'="'+af+'"'});ac+='<embed src="'+Y+'" type="application/x-shockwave-flash" width="'+I.width+'" height="'+I.height+'"'+X+"></embed></object>";K.html(ac);r();break;case"ajax":W=Y.split("#",2);aa=I.ajax.data||{};if(W.length>1){Y=W[0];if(typeof aa=="string"){aa+="&selector="+W[1]}else{aa.selector=W[1]}}P=false;A.fancybox.showActivity();f=A.ajax(A.extend(I.ajax,{url:Y,data:aa,error:p,success:function(af,ag,ae){if(f.status==200){K.html(af);r()}}}));break;case"iframe":A('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" scrolling="'+I.scrolling+'" src="'+I.href+'"></iframe>').appendTo(K);u();break}},n=function(){if(!T.is(":visible")){clearInterval(q);return}A("div",T).css("top",(M*-40)+"px");M=(M+1)%12},B=function(){if(A("#fancybox-wrap").length){return}A("body").append(K=A('<div id="fancybox-tmp"></div>'),T=A('<div id="fancybox-loading"><div></div></div>'),R=A('<div id="fancybox-overlay"></div>'),L=A('<div id="fancybox-wrap"></div>'));if(!A.support.opacity){L.addClass("fancybox-ie");T.addClass("fancybox-ie")}d=A('<div id="fancybox-outer"></div>').append('<div class="fancy-bg" id="fancy-bg-n"></div><div class="fancy-bg" id="fancy-bg-ne"></div><div class="fancy-bg" id="fancy-bg-e"></div><div class="fancy-bg" id="fancy-bg-se"></div><div class="fancy-bg" id="fancy-bg-s"></div><div class="fancy-bg" id="fancy-bg-sw"></div><div class="fancy-bg" id="fancy-bg-w"></div><div class="fancy-bg" id="fancy-bg-nw"></div>').appendTo(L);d.append(w=A('<div id="fancybox-inner"></div>'),J=A('<a id="fancybox-close"></a>'),C=A('<a href="javascript:;" id="fancybox-cover"><span class="fancy-ico" id="fancybox-cover-ico"></span></a>'),O=A('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),z=A('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));J.click(A.fancybox.close);T.click(A.fancybox.cancel);O.click(function(W){W.preventDefault();A.fancybox.prev()});z.click(function(W){W.preventDefault();A.fancybox.next()});C.click(function(W){W.preventDefault()});if(S){R.get(0).style.setExpression("height","document.body.scrollHeight > document.body.offsetHeight ? document.body.scrollHeight : document.body.offsetHeight + 'px'");T.get(0).style.setExpression("top","(-20 + (document.documentElement.clientHeight ? document.documentElement.clientHeight/2 : document.body.clientHeight/2) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop )) + 'px'");d.prepend('<iframe id="fancybox-hide-sel-frame" src="javascript:\'\';" scrolling="no" frameborder="0" ></iframe>')}};A.fn.fancybox=function(W){A(this).data("fancybox",A.extend({},W,(A.metadata?A(this).metadata():{}))).unbind("click.fb").bind("click.fb",function(Y){Y.preventDefault();if(P){return}P=true;A(this).blur();h=[];E=0;var X=A(this).attr("rel")||"";if(!X||X==""||X==="nofollow"){h.push(this)}else{h=A("a[rel="+X+"], area[rel="+X+"]");E=h.index(this)}l();return false});return this};A.fancybox=function(Z){if(P){return}P=true;var Y=typeof arguments[1]!=="undefined"?arguments[1]:{};h=[];E=Y.index||0;if(A.isArray(Z)){for(var X=0,W=Z.length;X<W;X++){if(typeof Z[X]=="object"){A(Z[X]).data("fancybox",A.extend({},Y,Z[X]))}else{Z[X]=A({}).data("fancybox",A.extend({content:Z[X]},Y))}}h=jQuery.merge(h,Z)}else{if(typeof Z=="object"){A(Z).data("fancybox",A.extend({},Y,Z))}else{Z=A({}).data("fancybox",A.extend({content:Z},Y))}h.push(Z)}if(E>h.length||E<0){E=0}l()};A.fancybox.showActivity=function(){clearInterval(q);T.show();q=setInterval(n,66)};A.fancybox.hideActivity=function(){T.hide()};A.fancybox.next=function(){return A.fancybox.pos(e+1)};A.fancybox.prev=function(){return A.fancybox.pos(e-1)};A.fancybox.pos=function(W){if(P){return}W=parseInt(W,10);if(W>-1&&y.length>W){E=W;l()}if(G.cyclic&&y.length>1&&W<0){E=y.length-1;l()}if(G.cyclic&&y.length>1&&W>=y.length){E=0;l()}return};A.fancybox.cancel=function(){if(P){return}P=true;A.event.trigger("fancybox-cancel");i();if(I&&A.isFunction(I.onCancel)){I.onCancel(h,E,I)}P=false};A.fancybox.close=function(){if(P||L.is(":hidden")){return}P=true;if(G&&A.isFunction(G.onCleanup)){if(G.onCleanup(y,e,G)===false){P=false;return}}i();A(J.add(O).add(z).add(C)).hide();A("#fancybox-title").remove();L.add(w).add(R).unbind();A(window).unbind("resize.fb scroll.fb");A(document).unbind("keydown.fb");function W(){R.fadeOut("fast");L.hide();A.event.trigger("fancybox-cleanup");w.empty();if(A.isFunction(G.onClosed)){G.onClosed(y,e,G)}y=I=[];e=E=0;G=I={};P=false}w.css("overflow","hidden");if(G.transitionOut=="elastic"){a=V();var X=L.position();c={top:X.top,left:X.left,width:L.width(),height:L.height()};if(G.opacity){c.opacity=1}t.prop=1;A(t).animate({prop:0},{duration:G.speedOut,easing:G.easingOut,step:H,complete:W})}else{L.fadeOut(G.transitionOut=="none"?0:G.speedOut,W)}};A.fancybox.resize=function(){var X,W;if(P||L.is(":hidden")){return}P=true;X=w.wrapInner("<div style='overflow:auto'></div>").children();W=X.height();L.css({height:W+(G.padding*2)+j});w.css({height:W});X.replaceWith(X.children());A.fancybox.center()};A.fancybox.center=function(){P=true;var W=F(),X=G.margin,Y={};Y.top=W[3]+((W[1]-((L.height()-j)+(D*2)))*0.5);Y.left=W[2]+((W[0]-(L.width()+(D*2)))*0.5);Y.top=Math.max(W[3]+X,Y.top);Y.left=Math.max(W[2]+X,Y.left);L.css(Y);P=false};A.fn.fancybox.defaults={padding:10,margin:20,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.3,overlayColor:"#666",titleShow:true,titlePosition:"outside",titleFormat:null,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,onStart:null,onCancel:null,onComplete:null,onCleanup:null,onClosed:null};A(document).ready(function(){B()})})(jQuery);